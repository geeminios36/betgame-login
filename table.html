<table
  cellpadding="0"
  cellspacing="0"
  class="big dataInput_small roadBack"
  style="background-color: rgb(240, 240, 240); background-size: 12.8px 13.8px"
>
  <tbody>
    <tr>
      <td>
        <div class="ba_linkBox"></div>
        <div class="red_ring">&nbsp;&nbsp;</div>
      </td>
      <td>
        <div class="ba_linkBox"></div>
        <div class="blue_ring">
          &nbsp;
          <div class="brand_blue_ring"></div>
        </div>
      </td>
      <td>
        <div class="ba_linkBox"></div>
        <div class="red_ring">&nbsp;&nbsp;</div>
      </td>
      <td>
        <div class="ba_linkBox"><div class="ba_link_blue link_btm"></div></div>
        <div class="blue_ring">&nbsp;</div>
      </td>
      <td>
        <div class="ba_linkBox"></div>
        <div class="red_ring">
          &nbsp;&nbsp;
          <div class="brand_red_ring"></div>
        </div>
      </td>
      <td>
        <div class="ba_linkBox"></div>
        <div class="blue_ring">
          &nbsp;
          <div class="brand_blue_ring"></div>
        </div>
      </td>
      <td>
        <div class="ba_linkBox"></div>
        <div class="red_ring">&nbsp;&nbsp;</div>
      </td>
      <td>
        <div class="ba_linkBox"></div>
        <div class="blue_ring">
          &nbsp;
          <div class="brand_blue_ring"></div>
        </div>
      </td>
      <td>
        <div class="ba_linkBox"></div>
        <div class="s6_ring">&nbsp;</div>
      </td>
      <td>
        <div class="ba_linkBox"></div>
        <div class="blue_ring">&nbsp;</div>
      </td>
      <td>
        <div class="ba_linkBox"></div>
        <div class="red_ring">
          &nbsp;&nbsp;
          <div class="brand_red_ring"></div>
        </div>
      </td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td>
        <div class="ba_linkBox"></div>
        <div class="green_block">&nbsp;&nbsp;</div>
      </td>
      <td></td>
      <td></td>
      <td>
        <div class="ba_linkBox">
          <div class="ba_link_blue link_top"></div>
          <div class="ba_link_blue link_btm"></div>
        </div>
        <div class="blue_ring">
          &nbsp;
          <div class="brand_blue_ring"></div>
        </div>
      </td>
      <td>
        <div class="ba_linkBox"></div>
        <div class="red_ring">
          &nbsp;&nbsp;
          <div class="brand_red_ring"></div>
        </div>
      </td>
      <td>
        <div class="ba_linkBox"></div>
        <div class="blue_ring">&nbsp;</div>
      </td>
      <td></td>
      <td>
        <div class="ba_linkBox"></div>
        <div class="blue_ring">&nbsp;</div>
      </td>
      <td></td>
      <td>
        <div class="ba_linkBox"></div>
        <div class="blue_ring">
          &nbsp;
          <div class="brand_blue_ring"></div>
        </div>
      </td>
      <td>
        <div class="ba_linkBox"></div>
        <div class="red_ring">&nbsp;&nbsp;</div>
      </td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td>
        <div class="ba_linkBox"></div>
        <div class="green_block">&nbsp;&nbsp;</div>
      </td>
      <td></td>
      <td></td>
      <td>
        <div class="ba_linkBox">
          <div class="ba_link_blue link_top"></div>
          <div class="ba_link_blue link_btm"></div>
        </div>
        <div class="blue_ring">&nbsp;</div>
      </td>
      <td>
        <div class="ba_linkBox"></div>
        <div class="red_ring">&nbsp;&nbsp;</div>
      </td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td>
        <div class="ba_linkBox"></div>
        <div class="red_ring">&nbsp;&nbsp;&nbsp;</div>
      </td>
      <td></td>
      <td></td>
      <td>
        <div class="ba_linkBox">
          <div class="ba_link_blue link_top"></div>
          <div class="ba_link_blue link_btm"></div>
        </div>
        <div class="blue_ring">
          &nbsp;
          <div class="brand_blue_ring"></div>
        </div>
      </td>
      <td>
        <div class="ba_linkBox"></div>
        <div class="red_ring">&nbsp;&nbsp;</div>
      </td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td>
        <div class="ba_linkBox"></div>
        <div class="red_ring">&nbsp;&nbsp;</div>
      </td>
      <td></td>
      <td></td>
      <td>
        <div class="ba_linkBox">
          <div class="ba_link_blue link_top"></div>
          <div class="ba_link_blue link_btm"></div>
        </div>
        <div class="blue_ring">&nbsp;</div>
      </td>
      <td>
        <div class="ba_linkBox"></div>
        <div class="red_ring">&nbsp;&nbsp;</div>
      </td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td>
        <div class="ba_linkBox"></div>
        <div class="red_ring">&nbsp;&nbsp;</div>
      </td>
      <td></td>
      <td></td>
      <td>
        <div class="ba_linkBox">
          <div class="ba_link_blue link_top"></div>
          <div class="ba_link_blue link_btm"></div>
        </div>
        <div class="green_block"></div>
      </td>
      <td>
        <div class="ba_linkBox"></div>
        <div class="red_ring">
          &nbsp;&nbsp;
          <div class="brand_red_ring"></div>
        </div>
      </td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td>
        <div class="ba_linkBox"></div>
        <div class="red_ring">&nbsp;&nbsp;</div>
      </td>
      <td></td>
      <td></td>
      <td>
        <div class="ba_linkBox">
          <div class="ba_link_blue link_top"></div>
          <div class="ba_link_blue link_btm"></div>
        </div>
        <div class="green_block"></div>
      </td>
      <td>
        <div class="ba_linkBox"></div>
        <div class="s6_ring">&nbsp;</div>
        <div class="blue_spot_s btm_R"></div>
      </td>

      <td>
        <div class="ba_linkBox"></div>
        <div class="s6_ring">&nbsp;</div>
        <div class="blue_spot_s btm_R"></div>
      </td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td>
        <div class="ba_linkBox"></div>
        <div class="red_ring">&nbsp;&nbsp;</div>
      </td>
      <td>
        <div class="ba_linkBox"></div>
        <div class="green_block">&nbsp;&nbsp;</div>
      </td>
      <td>
        <div class="ba_linkBox"></div>
        <div class="green_block">&nbsp;&nbsp;</div>
      </td>
      <td>
        <div class="ba_linkBox">
          <div class="ba_link_blue link_top"></div>
          <div class="ba_link_blue link_right"></div>
        </div>
        <div class="blue_ring">
          &nbsp;
          <div class="brand_blue_ring"></div>
        </div>
        <div class="red_spot_s top_L"></div>
      </td>
      <td>
        <div class="ba_linkBox">
          <div class="ba_link_blue link_left"></div>
          <div class="ba_link_blue link_right"></div>
        </div>
        <div class="blue_ring">&nbsp;</div>
      </td>
      <td>
        <div class="ba_linkBox">
          <div class="ba_link_blue link_left"></div>
          <div class="ba_link_blue link_right"></div>
        </div>
        <div class="blue_ring">&nbsp;</div>
      </td>
      <td>
        <div class="ba_linkBox"><div class="ba_link_blue link_left"></div></div>
        <div class="blue_ring">&nbsp;</div>
      </td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>
<style>
  table {
    height: 350px;
    width: 100%;
  }
  tr,
  td {
    border: 1px solid #444;
  }
  .s6_ring,
  .red_ring {
    border: 1px solid #dc0000;
  }
  .blue_ring {
    border: 1px solid #000;
  }
  .green_block {
    border: 1px solid green;
  }
</style>

<script
  src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"
  integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
></script>
<script type="text/javascript">
  count = $("table tr:first-child").find("td").length;
  myArray = [];
  $("table tr").each(function (i, e) {
    arr = [];
    $(e)
      .find("td")
      .each(function (i, td) {
        if ($(td).find("div").length) {
          if (
            $(td).find("div").hasClass("s6_ring") ||
            $(td).find("div").hasClass("red_ring")
          ) {
            arr.push(2);
          } else if ($(td).find("div").hasClass("green_block")) {
            arr.push(3);
          } else {
            arr.push(1);
          }
        } else {
          arr.push(0);
        }
      });
    myArray.push(arr);
  });

  //   let transposedArray = [];

  //   for (let j = 0; j < myArray[0].length; j++) {
  //     let newRow = [];
  //     for (let i = 0; i < myArray.length; i++) {
  //     	newRow.push(myArray[i][j]);
  //     }
  //     transposedArray.push(newRow);
  //   }
  //   console.log(myArray,transposedArray);

  console.log(myArray);
  a = [];
  for (let j = 0; j < myArray[0].length; j++) {
    arr = [];
    let number = 0;
    for (let i = 0; i < myArray.length; i++) {
      let i1 = i + 1,
        i2 = i + 2,
        i3 = i + 3,
        i4 = i + 4,
        i5 = i + 5,
        i6 = i + 6,
        i7 = i + 7,
        i8 = i + 8;
      i0 = i - 1;

      if (i == 0) {
        if (myArray[i][0]) {
          if (
            myArray[i1][0] !== myArray[i2][0] &&
            myArray[i1][0] !== myArray[i1][1]
          ) {
            if (myArray[i][0] == myArray[i1][0]) {
              number = i += 2;
            } else if (myArray[i1][0] == 3) {
              number = i += 1;
            }
          }

          let condition1 =
              myArray[i1][0] == myArray[i2][0] || myArray[i2][0] == 3,
            condition2 =
              condition1 &&
              (myArray[i2][0] == myArray[i3][0] || myArray[i3][0] == 3),
            condition3 =
              condition2 &&
              (myArray[i3][0] == myArray[i4][0] || myArray[i4][0] == 3),
            condition4 =
              condition3 &&
              (myArray[i4][0] == myArray[i5][0] || myArray[i5][0] == 3),
            condition5 =
              condition4 &&
              (myArray[i5][0] == myArray[i6][0] || myArray[i6][0] == 3),
            condition6 =
              condition5 &&
              (myArray[i6][0] == myArray[i7][0] || myArray[i7][0] == 3);

          if (
            condition1 &&
            myArray[i2][0] !== myArray[i3][0] &&
            myArray[i2][0] !== myArray[i2][1]
          ) {
            arr.push(2);
          }

          if (
            condition2 &&
            myArray[i3][0] !== myArray[i4][0] &&
            myArray[i3][0] !== myArray[i3][1]
          ) {
            arr.push(3);
          }

          if (
            condition3 &&
            myArray[i4][0] !== myArray[i5][0] &&
            myArray[i4][0] !== myArray[i4][1]
          ) {
            arr.push(4);
          }

          if (
            condition4 &&
            myArray[i5][0] !== myArray[i6][0] &&
            myArray[i5][0] !== myArray[i5][1]
          ) {
            arr.push(5);
          }

          if (
            condition5 &&
            myArray[i6][0] !== myArray[i7][0] &&
            myArray[i6][0] !== myArray[i6][1]
          ) {
            arr.push(7);
          }

          if (condition6) {
            if (myArray[i7][0] !== myArray[i7][1]) {
              arr.push(8);
            }

            if (
              myArray[i7][0] == myArray[i7][1] &&
              myArray[i7][1] !== myArray[i7][2]
            ) {
              arr.push(9);
            }

            let cond1 =
                myArray[i7][0] == myArray[i7][1] &&
                myArray[i7][1] == myArray[i7][2],
              cond2 = cond1 && myArray[i7][2] == myArray[i7][3],
              cond3 = cond2 && myArray[i7][3] == myArray[i7][4],
              cond4 = cond3 && myArray[i7][4] == myArray[i7][5],
              cond5 = cond3 && myArray[i7][5] == myArray[i7][6],
              cond6 = cond4 && myArray[i7][6] == myArray[i7][7],
              cond7 = cond5 && myArray[i7][7] == myArray[i7][8],
              cond8 = cond6 && myArray[i7][8] == myArray[i7][9],
              cond9 = cond7 && myArray[i7][9] == myArray[i7][10],
              cond10 = cond8 && myArray[i7][10] == myArray[i7][11],
              cond11 = cond9 && myArray[i7][11] == myArray[i7][12],
              cond12 = cond10 && myArray[i7][12] == myArray[i7][13],
              cond13 = cond11 && myArray[i7][13] == myArray[i7][14],
              cond14 = cond12 && myArray[i7][14] == myArray[i7][15],
              cond15 = cond13 && myArray[i7][15] == myArray[i7][16],
              cond16 = cond14 && myArray[i7][16] == myArray[i7][17],
              cond17 = cond15 && myArray[i7][17] == myArray[i7][18],
              cond18 = cond16 && myArray[i7][18] == myArray[i7][19],
              cond19 = cond17 && myArray[i7][19] == myArray[i7][20];

            if (cond1 && myArray[i7][2] !== myArray[i7][3]) {
              arr.push(10);
            }

            if (cond2 && myArray[i7][3] !== myArray[i7][4]) {
              arr.push(11);
            }

            if (cond3 && myArray[i7][4] !== myArray[i7][5]) {
              arr.push(12);
            }

            if (cond4 && myArray[i7][5] !== myArray[i7][6]) {
              arr.push(13);
            }

            if (cond5 && myArray[i7][6] !== myArray[i7][7]) {
              arr.push(14);
            }

            if (cond6 && myArray[i7][7] !== myArray[i7][8]) {
              arr.push(15);
            }

            if (cond7 && myArray[i7][8] !== myArray[i7][9]) {
              arr.push(16);
            }

            if (cond8 && myArray[i7][9] !== myArray[i7][10]) {
              arr.push(17);
            }

            if (cond9 && myArray[i7][10] !== myArray[i7][11]) {
              arr.push(18);
            }

            if (cond10 && myArray[i7][11] !== myArray[i7][12]) {
              arr.push(19);
            }

            if (cond11 && myArray[i7][12] !== myArray[i7][13]) {
              arr.push(20);
            }

            if (cond12 && myArray[i7][13] !== myArray[i7][14]) {
              arr.push(21);
            }

            if (cond13 && myArray[i7][14] !== myArray[i7][15]) {
              arr.push(22);
            }

            if (cond14 && myArray[i7][15] !== myArray[i7][16]) {
              arr.push(23);
            }

            if (cond15 && myArray[i7][16] !== myArray[i7][17]) {
              arr.push(24);
            }

            if (cond16 && myArray[i7][17] !== myArray[i7][18]) {
              arr.push(25);
            }

            if (cond17 && myArray[i7][18] !== myArray[i7][19]) {
              arr.push(26);
            }

            if (cond18 && myArray[i7][19] !== myArray[i7][20]) {
              arr.push(27);
            }

            if (cond19) {
              arr.push(28);
            }
          }
          arr.push(number);
        } else {
          arr.push(1);
        }
      }
    }
    a.push(arr);
  }
  console.log(a);
</script>
